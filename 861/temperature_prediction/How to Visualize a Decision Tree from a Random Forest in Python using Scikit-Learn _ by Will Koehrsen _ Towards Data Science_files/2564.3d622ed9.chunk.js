(self.webpackChunklite=self.webpackChunklite||[]).push([[2564],{6742:(e,n,t)=>{"use strict";t.d(n,{e0:()=>_,Rf:()=>O,Xw:()=>T});var r=t(59713),o=t.n(r),i=t(28655),l=t.n(i),a=t(71439),s=t(67294),u=t(31429),c=t(55346),d=t(16528),p=t(7530),m=t(64504),f=t(62630),v=t(27572),g=t(28309),h=t(72955),b=t(14391),x=t(67297),E=t(80637),y=t(27952);function w(){var e=l()(["\n  fragment NewsletterV3Promo_publisher on Publisher {\n    __typename\n    ... on User {\n      id\n      username\n      name\n      viewerIsUser\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n    ... on Collection {\n      id\n      slug\n      domain\n      name\n      viewerIsEditor\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n    }\n  }\n  ","\n"]);return w=function(){return e},e}function P(){var e=l()(["\n  fragment NewsletterV3Promo_newsletterV3 on NewsletterV3 {\n    slug\n    name\n    description\n    ...NewsletterV3SubscribeButton_newsletterV3\n    ...NewsletterV3SubscribeByEmail_newsletterV3\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}var _=(0,a.Ps)(P(),u.B,c.Lh),O=(0,a.Ps)(w(),_),S=function(e){return o()({borderTop:"3px solid ".concat(e.accentColor.border.normal),padding:"32px 32px 26px 32px",marginTop:"8px",marginBottom:"25px",backgroundColor:e.baseColor.background.light},E.sm(e),{padding:"24px 24px 28px 24px"})},T=function(e){var n,t,r,o,i,l=e.postId,a=e.publisher,E=s.useRef(null),w=(0,x.v)((function(e){return e.config.authDomain})),P=(0,x.v)((function(e){return e.config.isAmp})),_=(0,f.Av)(),O=(0,g.Iq)(),T=(0,d.YC)().value,C=a.newsletterV3,N=null==C?void 0:C.type,I=a.username,R=void 0===I?"":I,B=(0,y.iBn)(null!==(n=null==C?void 0:C.slug)&&void 0!==n?n:"",w,N===b.Rr.NEWSLETTER_TYPE_COLLECTION?a:void 0,N===b.Rr.NEWSLETTER_TYPE_AUTHOR&&R?R:void 0);switch(N){case b.Rr.NEWSLETTER_TYPE_COLLECTION:t="Sign up for ".concat(null==C?void 0:C.name),r="0px",o="You're an editor of ".concat(null==C?void 0:C.name),i=a.viewerIsEditor;break;case b.Rr.NEWSLETTER_TYPE_AUTHOR:t="Get ".concat(a.name,"'s stories in your inbox"),r="6px",o="You cannot subscribe to yourself",i=a.viewerIsUser}var k=!1,A=function(){!k&&M()&&(_.event("newsletterV3.promoViewed",{newsletterV3Id:null==C?void 0:C.id,postId:l}),k=!0)},M=function(){var e;if(!E.current)return!1;var n=null===(e=E.current)||void 0===e?void 0:e.getBoundingClientRect(),t=n.top+n.height/2;return t>=0&&t<=window.innerHeight};return s.useEffect((function(){return A(),window&&h.V6.on("scroll",A),function(){h.V6.off("scroll",A)}}),[]),s.createElement(v.cW,{source:{name:"newsletter_v3_promo",susiEntry:"newsletter_v3_promo"}},s.createElement("div",{ref:E,className:O(S)},s.createElement(p.xu,{paddingBottom:r},s.createElement(m.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},t)),N===b.Rr.NEWSLETTER_TYPE_COLLECTION&&s.createElement(s.Fragment,null,s.createElement(p.xu,{paddingTop:"4px"},s.createElement(m.F,{tag:"h3",scale:"S",color:"DARKER"},"By ".concat(a.name))),s.createElement(p.xu,{paddingTop:"8px",paddingBottom:"10px"},s.createElement(m.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},null==C?void 0:C.description,"Â ",!P&&s.createElement(p.rU,{inline:!0,linkStyle:"OBVIOUS",href:B},"Take a look.")))),i?s.createElement(p.xu,{paddingTop:"10px"},s.createElement(m.F,{scale:"M",color:"DARKER"},o)):s.createElement(p.xu,{display:"flex",flexWrap:"wrap"},C&&(T||P?s.createElement(u.x,{newsletterV3:C,buttonLayout:"COMPACT",helperTextColor:"DARKER",redirectUrl:P?B:void 0}):s.createElement(c.QL,{newsletterV3:C})))))}},15789:(e,n,t)=>{"use strict";t.d(n,{U:()=>R,Z:()=>k});var r=t(67154),o=t.n(r),i=t(59713),l=t.n(i),a=t(28655),s=t.n(a),u=t(71439),c=t(80439),d=t(67294),p=t(25415),m=t(76679),f=t(69677),v=t(72846),g=t(91442),h=t(11642);function b(){var e=s()(["\n  fragment NormalizeHighlights_paragraph on Paragraph {\n    name\n    text\n  }\n"]);return b=function(){return e},e}function x(){var e=s()(["\n  fragment NormalizeHighlights_highlight on Quote {\n    endOffset\n    startOffset\n    paragraphs {\n      name\n      text\n    }\n  }\n"]);return x=function(){return e},e}function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var r=n,o=t;return e.substr(r,o-r)}var P=(0,u.Ps)(x()),_=(0,u.Ps)(b()),O=t(16528),S=t(31235);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){l()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function N(){var e=s()(["\n  query InteractivePostBodyQuery($postId: ID!, $showNotes: Boolean!) {\n    post(id: $postId) {\n      id\n      highlights {\n        id\n        ...ActiveSelectionContext_highlight\n        ...HighlighSegmentContext_highlight\n        ...NormalizeHighlights_highlight\n        ...PostBody_highlight\n      }\n      privateNotes @include(if: $showNotes) {\n        ...PostBody_privateNote\n      }\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return N=function(){return e},e}function I(){var e=s()(["\n  fragment InteractivePostBody_post on Post {\n    id\n    # please note that postMeteringOptions is defined in PostHandler, which uses InteractivePostBody\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n      bodyModel {\n        ...PostBody_bodyModel\n        paragraphs {\n          ...HighlighSegmentContext_paragraph\n          ...NormalizeHighlights_paragraph\n        }\n      }\n    }\n    creator {\n      id\n      allowNotes\n      ...PostBody_creator\n    }\n    ...ActiveSelectionContext_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var R=(0,u.Ps)(I(),m.iF,g.iB,_,v.Pk,v.v),B=(0,u.Ps)(N(),m.UW,g.g8,v.XV,v.w6,P);const k=d.forwardRef((function(e,n){var t=e.activeGrafId,r=e.activeNoteId,i=e.isAuroraPostPageEnabled,l=e.post,a=e.postBodyInserts,s=(0,S.xg)(),u=l.content,b=l.latestPublishedVersion;if(!u)throw new Error("Expected post to have content.");var x={bodyModel:u.bodyModel,creator:l.creator,isAuroraPostPageEnabled:i,postBodyInserts:a,ref:n,richTextStyle:"FULL_PAGE"},E=l&&l.creator&&l.creator.allowNotes||!1;return u.isLockedPreviewOnly||s?d.createElement(v.ZP,x):d.createElement(c.AE,{notifyOnNetworkStatusChange:!0,ssr:!1,query:B,variables:{postId:l.id,showNotes:E}},(function(e){var n=e.data,i=(n=void 0===n?{}:n).post,a=u.bodyModel&&u.bodyModel.paragraphs,s=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,r=e.startOffset,o=e.paragraphs&&e.paragraphs[0],i=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(o.name,n);if(!o||!i)return null;var l=w(o.text,r,t),a=w(i.text,r,t);if(!l||!a)return null;if(l===a)return e;var s=i.text?i.text.indexOf(l):null;if("number"!=typeof s||s<0)return null;var u=s+l.length;return y(y({},e),{},{endOffset:u,startOffset:s})})).filter(h.b):e}(i&&i.highlights||[],a),c=i&&i.privateNotes||null;return d.createElement(f.yb,null,d.createElement(p.KN,{initialActivePrivateNoteId:r,initialActiveGrafName:t},d.createElement(m.Ms,{interactivePost:C(C({},l),{},{latestPublishedVersion:b}),highlights:s},d.createElement(O.Q_,{nonBlocking:!0},(function(e){return d.createElement(g.U7,{highlights:s,paragraphs:a,viewer:e},d.createElement(v.ZP,o()({},x,{highlights:s,privateNotes:c})))})))))}))}))},68387:(e,n,t)=>{"use strict";t.d(n,{Qw:()=>_,Qj:()=>O,w7:()=>S});var r=t(28655),o=t.n(r),i=t(67154),l=t.n(i),a=t(59713),s=t.n(a),u=t(71439),c=t(67294),d=t(32149),p=t(16528),m=t(62181),f=t(22091),v=t(64504),g=t(62630),h=t(28309),b=t(85277),x=t(67297),E=t(82482),y=t(96879),w=t(27952);function P(){var e=o()(["\n  fragment EntityDrivenSubscriptionCallToAction_creator on User {\n    __typename\n    id\n    name\n    ...useShouldShowEntityDrivenSubscription_creator\n  }\n  ","\n"]);return P=function(){return e},e}var _="entity_driven_subscription",O=function(e){var n,t,r,o,i=e.creator,a=(0,b.w)(),u=(0,g.Av)(),P=(0,h.Iq)(),_=(0,x.v)((function(e){return e.config.authDomain})),O=(0,x.v)((function(e){return e.config.productName})),S=(0,p.YC)().value,T=null==i?void 0:i.isAllowEdsEnabled,C=null!==(n=null==S?void 0:S.mediumMemberAt)&&void 0!==n&&n,N=null!==(t=null==i?void 0:i.viewerIsUser)&&void 0!==t&&t,I=(0,d.$)("entity_driven_subscription_milestone_1",i),R=N&&T&&C,B=null!==(r=null==i?void 0:i.name)&&void 0!==r?r:"",k=null!==(o=null==i?void 0:i.id)&&void 0!==o?o:"",A=c.useCallback((function(){u.event("entityDrivenSubCallToAction.clicked",{userId:null==S?void 0:S.id,entityId:null==i?void 0:i.id}),R&&a({message:"You're already a ".concat(O," member."),toastStyle:"MESSAGE"})}),[i,S,_]);c.useEffect((function(){T&&u.event("experiment.eligible",{experimentId:"65da28af5652"})}),[T]);var M=(0,y.Rk)((0,w.c5p)(_),{subscribeToUserId:k});return I?c.createElement("div",{className:P((function(e){var n;return n={borderTop:"4px solid ".concat(e.accentColor.border.normal),backgroundColor:e.baseColor.background.light},s()(n,E.xl(e),{padding:"38px",marginTop:"40px",marginBottom:"40px"}),s()(n,E.lg(e),{padding:"38px",marginTop:"40px",marginBottom:"40px"}),s()(n,E.md(e),{padding:"38px",marginTop:"32px",marginBottom:"32px"}),s()(n,E.sm(e),{padding:"24px 24px 28px 24px",marginTop:"32px",marginBottom:"32px"}),s()(n,E.xs(e),{padding:"24px 24px 28px 24px",marginTop:"32px",marginBottom:"32px"}),n}))},c.createElement(f.xu,null,c.createElement(v.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Read everything from ",B," â and more.")),c.createElement(f.xu,{paddingTop:"10px",paddingBottom:"30px"},c.createElement(v.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER"},"Upgrade to Medium membership to directly support independent writers and get unlimited access to everything on Medium.")),c.createElement(f.xu,{display:"flex",flexDirection:"row"},c.createElement(f.zx,l()({onClick:A,buttonStyle:"STRONG"},C?void 0:{href:M}),"Become a member"),!S&&c.createElement(c.Fragment,null,c.createElement(v.F,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"},color:"DARKER"},c.createElement(f.xu,{marginLeft:"12px",display:"flex",flexDirection:"column"},"Already a member?",c.createElement(m.R9,{operation:"login",linkStyle:"OBVIOUS",inline:!0,susiEntry:"entity_driven_subscription_cta"},"Sign In")))))):null},S=(0,u.Ps)(P(),d.G)},56365:(e,n,t)=>{"use strict";t.d(n,{f:()=>f,w:()=>v});var r=t(28655),o=t.n(r),i=t(67154),l=t.n(i),a=t(6479),s=t.n(a),u=t(71439),c=t(67294),d=t(85489),p=t(42933);function m(){var e=o()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromColorValue_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var f=function(e){var n=e.children,t=e.customStyleSheet,r=s()(e,["children","customStyleSheet"]);return c.useMemo((function(){var e,n;return(0,d.eQ)(null==t||null===(e=t.global)||void 0===e||null===(n=e.colorPalette)||void 0===n?void 0:n.background)}),[t])?c.createElement(p.Z,l()({backgroundColor:"BACKGROUND"},r),n):c.createElement(p.Z,r,n)},v=(0,u.Ps)(m(),d.xW)},10103:(e,n,t)=>{"use strict";t.d(n,{v$:()=>d,G8:()=>p,Ps:()=>m,Kc:()=>f});var r=t(28655),o=t.n(r),i=t(71439),l=t(67294),a=t(28309),s=t(534);function u(){var e=o()(["\n  fragment CustomThemeProvider_customStyleSheet on CustomStyleSheet {\n    id\n    ...customDefaultBackgroundTheme_customStyleSheet\n    ...customStyleSheetFontTheme_customStyleSheet\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function c(){var e=o()(["\n  fragment CustomThemeProvider_publisher on Publisher {\n    id\n    __typename\n    ... on Collection {\n      colorPalette {\n        ...customDefaultBackgroundTheme_colorPalette\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}var d=function(e,n){var t=(0,a.Fg)(),r="Collection"===(null==n?void 0:n.__typename)?null==n?void 0:n.colorPalette:null;return(0,s.ZI)(e,(0,s.zI)(e,t,r))},p=function(e){var n=e.customStyleSheet,t=e.publisher,r=e.children,o=d(n,t);return l.createElement(a.f6,{theme:o},r)},m=(0,i.Ps)(c(),s.L9),f=(0,i.Ps)(u(),s.Ui,s.VE)},32149:(e,n,t)=>{"use strict";t.d(n,{$:()=>u,G:()=>c});var r=t(28655),o=t.n(r),i=t(71439),l=t(53976),a=t(16528);function s(){var e=o()(["\n  fragment useShouldShowEntityDrivenSubscription_creator on User {\n    isAllowEdsEnabled\n    viewerIsUser\n  }\n"]);return s=function(){return e},e}var u=function(e,n){var t,r,o=(0,a.YC)().value,i=(0,l.V)({name:e,placeholder:!1}),s=null!==(t=null==o?void 0:o.mediumMemberAt)&&void 0!==t&&t,u=null==n?void 0:n.isAllowEdsEnabled,c=null!==(r=null==n?void 0:n.viewerIsUser)&&void 0!==r&&r;return!!n&&(u&&!o||u&&c||!!i&&u&&!s)},c=(0,i.Ps)(s())},51684:(e,n,t)=>{"use strict";t.d(n,{ZR:()=>m,HX:()=>v,b2:()=>g,hE:()=>h});var r=t(59713),o=t.n(r),i=t(67294),l=t(28859),a=t(43689),s=t(7530),u=t(28309),c=t(27108),d=t(89349),p=t(21146),m=131,f=function(e){return{pointerEvents:e?"auto":"none"}},v=function(e){var n=e.children,t=e.disableTransition,r=e.isFixed,c=e.scrollableRef,p=e.sidebarRef,v=e.testId,g=e.topOffset,h=e.visible,b=e.fixedWidth,x=e.extraWide,E=void 0!==x&&x,y=(0,u.Iq)(),w=function(e){var n,t,r,s=e.isFixed,u=void 0===s||s,c=e.disableTransition,p=void 0!==c&&c,m=e.scrollableRef,f=e.topOffset,v=e.visible,g=e.fixedWidth,h=(r=null===(n=i.useContext(l.u6).watchedBounds.get("header"))||void 0===n||null===(t=n.ref)||void 0===t?void 0:t.current)?r.offsetTop+r.offsetHeight+64:a.Je+54+40;return function(e){return function(n){var t,r=(0,d.uc)(n,e,n.grid.xStep*n.grid.marginSteps.lg,m&&"current"in m?m.current:null),i=void 0===f?h:f;return t={opacity:v?1:0,pointerEvents:"none",position:u?"fixed":"absolute",willChange:"opacity, transform",width:g?"".concat(g,"px"):"100%",transform:"translateY(".concat(i,"px)"),top:0},o()(t,(0,d.nk)("no-preference"),{transition:p?"opacity 0s":"opacity 200ms"}),o()(t,r,{display:"none"}),t}}}({isFixed:r,scrollableRef:c,topOffset:g,visible:h,disableTransition:t,fixedWidth:b}),P=E?197:m;return i.createElement("div",{className:y(w(P)),"data-test-id":v},i.createElement(s.Pm,{size:"outset"},i.createElement(s.xu,{display:"flex",flexDirection:"column",width:"".concat(P,"px"),ref:p},i.createElement("div",{className:y(f(h))},n))))},g=function(e,n,t,r){var o=e.current;if(!o)return!1;var i=r.threshold||10,l=Array.from(n.values()).filter((function(e){var n,r=e.ref,o=e.opts;return t.includes(null!==(n=o.type)&&void 0!==n?n:"")&&!!r.current})).map((function(e){var n=e.ref,t=e.opts,r=t&&t.offset,o=(0,p.L6)(n.current);return(0,p.Dd)(o,r)})),a=(0,p.L6)(o);return!l.some((function(e){return(0,p.kK)(e,a,i)}))},h=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t?"scroll_throttled":"scroll";return function(){var t=(0,c.jC)(null!=n?n:void 0);return t.on(r,e),t.on("scroll_end",e),t.on("resize_throttled",e),function(){t.off(r,e),t.off("scroll_end",e),t.off("resize_throttled",e)}}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2564.3d622ed9.chunk.js.map